<div class="container ">
    <div class="row py-3 d-flex justify-content-between">
        <form [formGroup]="form" (ngSubmit)="submit()">
            <div class="container">
                <div class="row mb-4">
                    <div class="col-xl-4 col-lg-6 col-md-10">
                        <div class="form-group mb-4">
                            <label>Name </label>
                            <input type="text" class="form-control" placeholder="Name *" id="name"
                                formControlName="name" required />
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-6 col-md-10">
                        <div class="form-group ">
                            <label>Date </label>
                            <input type="date" class="form-control" placeholder="" id="name" formControlName="date"
                                required />
                        </div>
                    </div>

                </div>
                <div class="row d-flex justify-content-between">
                    <div class="col">
                        <div class="text-end mb-0 float-end">
                            <div><button type="button" class="btn btn-success btn-sm mt-3 mb-5" (click)="addItem()">
                                    Order Material
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="card-body table-responsive" formArrayName="address">
                        <table class="table table-striped" style="width:100%">
                            <thead>
                                <tr>
                                    <th scope="col">S.No</th>
                                    <th scope="col">Item Name</th>
                                    <th scope="col">Total Quantity </th>
                                    <th scope="col">Quantity </th>
                                    <th scope="col">Price </th>
                                    <th scope="col">Total </th>
                                    <th scope="col">Action</th>
                                </tr>
                            </thead>
                            <tbody id="tbody">
                                <tr *ngFor="let vendorwise of address.controls; let i=index" [formGroupName]="i">
                                    <td>{{i+1}}</td>
                                    <td><select class="form-control" formControlName="itemname"
                                            (change)="checkpresent($event,i)">
                                            <option value="">select modals</option>
                                            <option *ngFor="let item of mobilelist" value="{{item.id}}">{{item.name}}
                                            </option>
                                        </select>
                                    </td>
                                    <td><input type="number" class="form-control" placeholder="Total Quantity"
                                            formControlName="tquantity" readonly />
                                    </td>
                                    <td><input type="number" class="form-control" placeholder="Quantity"
                                            (change)="calculateTotal(address,i)" formControlName="quantity" />
                                    </td>
                                    <td><input type="number" class="form-control" placeholder="Price"
                                            formControlName="price" readonly />
                                    </td>
                                    <td><input type="number" class="form-control" placeholder="Total"
                                            formControlName="total" />
                                    </td>
                                    <td>
                                        <mat-icon class="text-danger mt-1" (click)="delete(i)">delete</mat-icon>
                                    </td>
                                </tr>
                                <!-- <tr>
                                <th rowspan="2">Total Amount</th>
                                <td><input text="number" class="form-control" placeholder="Total Amount"
                                        formControlName="totalAmount" /></td>
                            </tr>  -->
                            </tbody>
                            <!-- <tfoot>
                            <tr>
                                {{amount}}
                            </tr>
                        </tfoot> -->
                        </table>

                    </div>
                </div>
                <div class="float-end mx-3">
                    <button type="submit" class="btn btn-primary mx-3">submit</button>
    
                    <button type="button" (click)="edit()" class="btn btn-secondary">edit</button>
    
                </div>
            </div>
           
            <div class="container mt-5 mx-auto">
                <div class="row ">
                    <div class="form-group mb-4">
                        <label>Sub Total</label>
                        <input text="number" class="form-control" placeholder="Sub Total" formControlName="subtotal"
                            readonly style="width: 50%;" />
                    </div>
                    <div class="form-group mb-4">
                        <label>GST(18%)</label>
                        <input type="number" class="form-control" placeholder="" formControlName="gst" readonly style="width: 50%;" />
                    </div>
                    <div class="form-group mb-4">
                        <label>Discount </label>
                        <input type="number" class="form-control" placeholder="" formControlName="discount" style="width: 50%;" (change)="netval()" />
                    </div>
                    <div class="form-group mb-4">
                        <label>Net Total </label>
                        <input type="number" class="form-control" placeholder="" formControlName="nettotal" readonly style="width: 50%;"  />
                    </div>
                    <div class="form-group mb-4">
                        <label>Paid </label>
                        <input type="number" class="form-control" placeholder="" formControlName="paid" style="width: 50%;"  (change)="dueval()"/>
                    </div>
                    <div class="form-group mb-4">
                        <label>Due </label>
                        <input type="number" class="form-control" placeholder="" formControlName="due" readonly style="width: 50%;"/>
                    </div>
                </div>
            </div>
        </form>

    </div>
</div>
